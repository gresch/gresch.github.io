<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>gganimate - Package functionality examples using Gapminder data</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.17" />
        


        
            <meta name="author" content="gresch">
        
        
            <meta name="description" content="Main objective: Outline the functionality of the gganimate package; My goal: learn more about R Notebook and git">
        

        

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:title" content="gganimate - Package functionality examples using Gapminder data"/>
<meta name="twitter:description" content="Main objective: Outline the functionality of the gganimate package; My goal: learn more about R Notebook and git"/>
<meta name="twitter:site" content="@gre__sch"/>


        <meta property="og:title" content="gganimate - Package functionality examples using Gapminder data" />
<meta property="og:description" content="Main objective: Outline the functionality of the gganimate package; My goal: learn more about R Notebook and git" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gresch.github.io/blog/2016-11-22%20gganimate%20-%20Packages%20functionality%20examples%20using%20Gapminder%20data/" />


<meta property="og:updated_time" content="2016-11-22T08:42:35&#43;02:00"/>










        
<meta itemprop="name" content="gganimate - Package functionality examples using Gapminder data">
<meta itemprop="description" content="Main objective: Outline the functionality of the gganimate package; My goal: learn more about R Notebook and git">


<meta itemprop="dateModified" content="2016-11-22T08:42:35&#43;02:00" />
<meta itemprop="wordCount" content="729">



<meta itemprop="keywords" content="BPMN,R Notebook,RStats,gganimate," />

        

        

        
        
            
        

        
        
            <link rel="stylesheet" href="/css/google-font.css" />
            <link rel="stylesheet" href="/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/css/main.css" />
            <link rel="stylesheet" href="/css/add-on.css" />
            <link rel="stylesheet" href="/css/monokai-sublime.css">
        

        
            
                
            
                
                    <link rel="stylesheet" href="/css/main.min.css" />
                
            
        

        
        
        
            
        
    </head>
    <body>

        
        <div id="wrapper">

    
    
<header id="header">
    
        <h2><a href="/">gresch</i></a></h2>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/blog">
                        
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/categories">
                        Categories
                    </a>
                </li>
            
                <li>
                    <a href="/about">
                        About
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:https://gresch.github.io/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:https://gresch.github.io/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/blog">
                            <h3>
                                
                                    <i class="fa fa-newspaper-o">&nbsp;</i>
                                
                                Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            <h3>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            <h3>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="https://gresch.github.io/blog/2016-11-22%20gganimate%20-%20Packages%20functionality%20examples%20using%20Gapminder%20data/"><p>gganimate - Package functionality examples using Gapminder data</p></a>
                    </li>
                
                    <li>
                        <a href="https://gresch.github.io/blog/2016-09-22%20Data%20Science%20-%20R%20Script%20to%20Analyze%20BPMN%20Diagrams/"><p>Data Science - R Script to Analyze BPMN Diagrams</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    
    
    <div id="main">
        
        
        <article class="post">
    <header>
    <div class="title">
        
            <h1><a href="https://gresch.github.io/blog/2016-11-22%20gganimate%20-%20Packages%20functionality%20examples%20using%20Gapminder%20data/">gganimate - Package functionality examples using Gapminder data</a></h1>
            
        
        
            <p>Main objective: Outline the functionality of the gganimate package; My goal: learn more about R Notebook and git</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2016-11-22'>
            November 22, 2016</time>
        <span class="author">gresch</span>
        
            <p>4 minute read</p>
        
        
    </div>
</header>


    <section id="social-share">
        <ul class="icons">
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fgresch.github.io%2fblog%2f2016-11-22%2520gganimate%2520-%2520Packages%2520functionality%2520examples%2520using%2520Gapminder%2520data%2f&text=gganimate%20-%20Package%20functionality%20examples%20using%20Gapminder%20data&via=gre__sch" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=https%3a%2f%2fgresch.github.io%2fblog%2f2016-11-22%2520gganimate%2520-%2520Packages%2520functionality%2520examples%2520using%2520Gapminder%2520data%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fgresch.github.io%2fblog%2f2016-11-22%2520gganimate%2520-%2520Packages%2520functionality%2520examples%2520using%2520Gapminder%2520data%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fgresch.github.io%2fblog%2f2016-11-22%2520gganimate%2520-%2520Packages%2520functionality%2520examples%2520using%2520Gapminder%2520data%2f&title=gganimate%20-%20Package%20functionality%20examples%20using%20Gapminder%20data" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fgresch.github.io%2fblog%2f2016-11-22%2520gganimate%2520-%2520Packages%2520functionality%2520examples%2520using%2520Gapminder%2520data%2f&title=gganimate%20-%20Package%20functionality%20examples%20using%20Gapminder%20data" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fgresch.github.io%2fblog%2f2016-11-22%2520gganimate%2520-%2520Packages%2520functionality%2520examples%2520using%2520Gapminder%2520data%2f&title=gganimate%20-%20Package%20functionality%20examples%20using%20Gapminder%20data" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by gresch&body=https%3a%2f%2fgresch.github.io%2fblog%2f2016-11-22%2520gganimate%2520-%2520Packages%2520functionality%2520examples%2520using%2520Gapminder%2520data%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
    
    

    
        
        




    
    
        
    


        

        <a href="https://gresch.github.io/blog/2016-11-22%20gganimate%20-%20Packages%20functionality%20examples%20using%20Gapminder%20data/" class="image featured">
            <img src="/img/2016/11/GDP_years.jpg" alt="" />
        </a>
    


    <div id="content">
        

<p>I recently found an interesting R package that animates <strong>ggplot2</strong> plots, namely <a href="https://github.com/dgrtwo/gganimate">gganimate</a>. I created an <a href="http://rmarkdown.rstudio.com/r_notebooks.html">R notebook</a> to present some functionalities of it, solely for learning purposes. As a test data set I use <a href="https://www.gapminder.org/data/">gapminder</a> like in the examples of the gganimate package. Nevertheless, I am interested, whether it would support in me in these areas:</p>

<ol>
<li>Data analysis, i.e., does it help to generate insights more efficiently?</li>
<li>Data visualization, i.e., does it help to better communicate findings?</li>
</ol>

<p>This blog is organized as follows: <strong>Setup</strong>, first I show necessary software and settings as well as give an data overview. In <strong>Non-animated plots</strong> I show some plots that I would create in order to assess the data without any animation for a later comparison. In section <strong>Animated plots</strong> I try <strong>gganimate</strong> to create animated plots. I conclude in the last section <strong>Conclusion</strong>.</p>

<p>Please find the resulting R notebook on <a href="https://github.com/gresch/r_playground/tree/master/gganimate">github</a>. The resulting HTML can be accessed via <a href="https://rawgit.com/gresch/r_playground/master/gganimate/201611_gganimate_Packages%20functionality%20examples%20using%20Gapminder%20data.nb.html">rawgit</a>.</p>

<h1 id="setup">Setup</h1>

<h3 id="software">Software</h3>

<ol>
<li>Install R</li>
<li>Install RStudio</li>
<li>Install <a href="https://www.imagemagick.org/script/binary-releases.php">ImageMagick</a></li>
<li>Install <em>gganimate</em> via <code>devtools::install_github(&quot;dgrtwo/gganimate&quot;)</code></li>
</ol>

<h3 id="libraries">Libraries</h3>

<pre><code class="language-r, message=FALSE, warning=FALSE">library(gganimate)       # animation package
library(ggplot2)         # plotting package
library(gapminder)       # package with data to visualize
library(dplyr)           # package for data transformation
</code></pre>

<h3 id="settings">Settings</h3>

<pre><code class="language-r">theme_set(theme_bw())    # set theme to black and white
</code></pre>

<h3 id="data-overview">Data overview</h3>

<p>The data is an <em>excerpt of the Gapminder data on life expectancy, GDP per capita, and population by country.</em> It includes 1704 observations with six variables:</p>

<ul>
<li>country</li>
<li>continent</li>
<li>year</li>
<li>lifeExp</li>
<li>pop</li>
<li>gdpPerCap</li>
</ul>

<h1 id="non-animated-plots">Non-animated plots</h1>

<p>Before testing <strong>gganimate</strong> I will create some plots via <strong>ggplot</strong>. For this analysis I will concentrate on the relationship between <em>GDP per capita</em> and <em>life expectancy at birth</em>. To increase readability, I log10ed the x-axis and used <em>color</em> to differentiate between observations coming from different <em>continents</em>. It shows a somewhat positive relationship between these two variables.</p>

<pre><code class="language-r, fig.width=10">ggplot(gapminder) +
  geom_point(aes(gdpPercap, lifeExp, color = continent)) +
  scale_x_log10()
</code></pre>

<p><img src="/img/2016/11/GDP.png" alt="" /></p>

<p>What are <em>possible</em> ways to look at the <em>development</em> of these variables over time (e.g., years)? Here are some means:</p>

<ol>
<li>Scatter plot: use of <code>facet_grid(~year)</code></li>
<li>Area: Show averages and use <code>facet_grid(~year)</code></li>
</ol>

<h3 id="scatterplot-use-of-facet-grid-year">Scatterplot: use of <code>facet_grid(~year)</code></h3>

<p>It overall shows a positive development of <em>life expectancy</em> and <em>GDP per capita</em> over the years, with Europe leading and Africa tailing.</p>

<pre><code class="language-r, fig.width=10">ggplot(gapminder) +
  geom_point(aes(gdpPercap, lifeExp, color = continent)) +
  scale_x_log10() +
  facet_grid(~year)
</code></pre>

<p><img src="/img/2016/11/GDP_years.jpg" alt="" /></p>

<h3 id="area-show-averages-and-use-facet-grid-year">Area: Show averages and use <code>facet_grid(~year)</code></h3>

<p>This plot also shows a positive development of <em>life expectancy</em> and <em>GDP per capita</em> over the years, without showing differentiation for <em>continents</em>.</p>

<pre><code class="language-r">gapminder %&gt;%
  group_by(continent, year) %&gt;%
  summarise(meanLifeExp = round(mean(lifeExp), 0),
            meanGdpPercap = round(mean(gdpPercap), 0)) %&gt;%
  ggplot() +
  geom_area(aes(meanGdpPercap, meanLifeExp), stat = &quot;identity&quot;) +
  scale_x_log10() +
  facet_grid(~year)
</code></pre>

<p><img src="/img/2016/11/GDP_avg.png" alt="" /></p>

<h1 id="animated-plots">Animated plots</h1>

<p>The package <strong>gganimate</strong> gives me another possibility: to have initial plot for every year provided and to display them in a series. In this case the variable <em>year</em> needs to be set as the <em>frame</em>.</p>

<h3 id="animated-scatterplot">Animated scatterplot</h3>

<p>The animated scatter plot shows me the initial plot (i.e., two variables on the axes and the one variable as color fill). In addition, each frame shows a specific year. Frames change every second. Hence, it is possible to view developments over time.</p>

<pre><code class="language-r error=FALSE, warning=FALSE, echo=TRUE, message=FALSE, prompt=TRUE">gg_animate(ggplot(gapminder) +
            geom_point(aes(gdpPercap, lifeExp, color = continent, frame = year)) +
            scale_x_log10())
</code></pre>

<p><img src="/img/2016/11/animated_1.gif" alt="" /></p>

<p>A <code>facet_grid(~continent)</code> further allows now a differentiation on the individual continent developments.</p>

<pre><code class="language-r error=FALSE, warning=FALSE, echo=TRUE, message=FALSE, prompt=TRUE">gg_animate(ggplot(gapminder) +
            geom_point(aes(gdpPercap, lifeExp, color = continent, frame = year)) +
            scale_x_log10() +
             facet_grid(~continent))
</code></pre>

<p><img src="/img/2016/11/animated_2.gif" alt="" /></p>

<h3 id="line-chart">Line chart</h3>

<pre><code class="language-r error=FALSE, echo=TRUE, message=FALSE, warning=FALSE, prompt=TRUE">gg_animate(gapminder %&gt;%
  group_by(continent, year) %&gt;%
  summarise(meanLifeExp = round(mean(lifeExp), 0),
            meanGdpPercap = round(mean(gdpPercap), 0)) %&gt;%
  ggplot() +
  geom_line(aes(meanGdpPercap, meanLifeExp, frame = year), stat = &quot;identity&quot;) +
  scale_x_log10())
</code></pre>

<p><img src="/img/2016/11/animated_3.gif" alt="" /></p>

<h1 id="conclusion">Conclusion</h1>

<p><strong>gganimate</strong> is an interesting package with some advantages. I will try to use it more often from now on. One open question would be whether it is possible to change <em>width</em> and <em>height</em> of the animated plots.</p>

<ol>
<li>Data analysis, i.e., does it help to generate insights more efficiently?</li>
</ol>

<p>In terms of data analysis it brings only few benefits. Other plots and means of exploration are available to understand the data, such as histograms, table view, or facet grids.</p>

<ol>
<li>Data visualiazation, i.e., does it help to better communicate findings?</li>
</ol>

<p>In terms of data visualization I believe <strong>gganimate</strong> is helpful. The <em>frame</em> provides another dimension to a plot without the need to use color, sizes, or other means that might clutter the plot. Another advantage is that I can tell a story and its  <em>development</em> over time (or other variable). Lastly, I think adding animation to visualization is much more compelling and people might <em>engange</em> much more with the plot.</p>

    </div>

    <footer>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categoriesgganimate'>gganimate</a></li>
    
        <li><a href='/categoriesrstats'>RStats</a></li>
    
        <li><a href='/categoriesr-notebook'>R Notebook</a></li>
    
</ul>

    </footer>
</article>
<ul class="actions pagination">
    
        <li><a href="https://gresch.github.io/blog/2016-09-22%20Data%20Science%20-%20R%20Script%20to%20Analyze%20BPMN%20Diagrams/"
                class="button big previous">Data Science - R Script to Analyze BPMN Diagrams</a></li>
    

    
</ul>



    
        <article class="post">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'gresch';
    var disqus_identifier = 'https:\/\/gresch.github.io\/blog\/2016-11-22%20gganimate%20-%20Packages%20functionality%20examples%20using%20Gapminder%20data\/';
    var disqus_title = 'gganimate - Package functionality examples using Gapminder data';
    var disqus_url = 'https:\/\/gresch.github.io\/blog\/2016-11-22%20gganimate%20-%20Packages%20functionality%20examples%20using%20Gapminder%20data\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>
    


    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <img src="/img/main/logo.jpg" width="" alt="" />
                
            
            
                <header>
                    <h2>gresch</h2>
                    <p>Adventures in Datascience</p>
                </header>
            
            <ul class="icons">
                
                
                    
<li><a href="//github.com/gresch" target="_blank" title="GitHub" class="fa fa-github"></a></li>

















































<li><a href="//twitter.com/gre__sch" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://gresch.github.io/blog/2016-11-22%20gganimate%20-%20Packages%20functionality%20examples%20using%20Gapminder%20data/">gganimate - Package functionality examples using Gapminder data</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2016-11-22'>
                                    November 22, 2016</time>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <h3><a href="https://gresch.github.io/blog/2016-09-22%20Data%20Science%20-%20R%20Script%20to%20Analyze%20BPMN%20Diagrams/">Data Science - R Script to Analyze BPMN Diagrams</a></h3>
                                
                                    
                                
                                <time class="published" datetime=
                                    '2016-09-22'>
                                    September 22, 2016</time>
                            </header>
                        </article>
                    </li>
                

                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="/categories/">Categories</a></h3>
                </header>

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/rstats/">RStats</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/bpmn/">BPMN</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/r-notebook/">R Notebook</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/gganimate/">gganimate</a>
                                <span style="float:right;">1</span>
                            </header>
                        </article>
                    </li>
                
            </ul>
        </section>
    

    
        
        <section class="blurb">
            <h2>About</h2>
            <p>A strategy consultant turning into a datascientist.</p>

            <ul class="actions">
                <li><a href="/about/" class="button">Learn More</a></li>
            </ul>
        </section>
        

    
        <section id="footer">
            <ul class="icons">
                
                
                    
<li><a href="//github.com/gresch" target="_blank" title="GitHub" class="fa fa-github"></a></li>

















































<li><a href="//twitter.com/gre__sch" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




                
            </ul>

            <p class="copyright">&copy; gresch. Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a>. Ported by <a href="//github.com/jpescador" target="_blank">Julio Pescador</a>. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        
            <script src="/js/jquery.min.js"></script>
            <script src="/js/skel.min.js"></script>
            <script src="/js/util.js"></script>
            <script src="/js/main.js"></script>
            <script src="/js/backToTop.js"></script>
            <script src="/js/highlight.pack.js"></script>
        

        
            
                
            
                
                    <script src="/js/main.min.js"></script>
                
            
        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

